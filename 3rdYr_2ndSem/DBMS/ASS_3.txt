--DROP TABLE LEAVE_REGISTER CASCADE CONSTRAINTS;
--DROP TABLE EMPLOYEE CASCADE CONSTRAINTS;
--DROP TABLE DEPARTMENT CASCADE CONSTRAINTS;

CREATE TABLE DEPARTMENT  
(  
DCODE NUMBER(10,0) PRIMARY KEY,  
DNAME CHAR(20) NOT NULL,  
NUM_EMP NUMBER(10,0)  
);

CREATE TABLE EMPLOYEE 
( 
ECODE NUMBER(10,0) PRIMARY KEY,
DCODE NUMBER(10,0), 
ENAME CHAR(20) NOT NULL CHECK (ENAME=UPPER(ENAME)),
ADDRESS CHAR(20), 
CITY CHAR(20), 
BASIC NUMBER(10,0) CHECK (BASIC>=5000 AND BASIC<=9000), 
DATE_JOIN DATE DEFAULT SYSDATE,
GRADE CHAR(1) CHECK (GRADE='A' OR GRADE='B' OR GRADE='C'),
FOREIGN KEY(DCODE) REFERENCES DEPARTMENT(DCODE)
);

CREATE TABLE LEAVE_REGISTER 
( 
ECODE NUMBER(10,0), 
LTYPE CHAR(2) NOT NULL, 
FROM_DT DATE, 
TO_DT DATE, 
FOREIGN KEY(ECODE) REFERENCES EMPLOYEE(ECODE) 
);
